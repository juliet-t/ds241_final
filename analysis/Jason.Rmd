---
title: "Jason"
author: "Jason Ofosu-Mensah"
date: "`r Sys.Date()`"
output: html_document
---
#We use the following libraires below:
```{r}
library(knitr)# We would want to
library(tidyverse)
library(janitor)
library(lubridate) # because we will probably see some dates
library(here) # more easily access files in your project
library(sf) # working with simple features - geospatial
library(tmap)
library(tidycensus)
```
#
```{r}
bykes = (read.csv(here("data_raw","202309-capitalbikeshare-tripdata.csv"))) |> clean_names() 

Parks_N_Recs <- st_read(here("data_raw","Parks_and_Recreation_Areas.geojson")) |> clean_names()

Museuems <- st_read(here("data_raw","Museums.geojson")) |> clean_names()

bracks <- st_read(here("data_raw","Public_Bike_Racks.geojson")) |> clean_names()

#Side_Walk_Cafe <- st_read(here("data_raw","Sidewalk_Cafe.geojson")) |> clean_names()

view(Parks_N_Recs)
view(Museuems)
#view(Side_Walk_Cafe)

view(bracks)

```

```{r}

bykes_sliced <- bykes|> slice_sample(n=100)
view(bykes_sliced)
```

```{r eval=FALSE, include=FALSE, install = TRUE}
census_api_key("8adcbab0823170535252fcf4c508e9cf0bfd09dc")
view(v2018)
```
```{r}
v2018 <- load_variables(2018,"acs5")
```
```{r}
df_census <- get_acs(geography = "tract",
                    variables = c("vehicles"="B08141_001",
  "population"="B01001_001",
  "public_transportation" = "B08006_008"),
  state ="DC",geometry = TRUE,year = 2021)
```
```{r}
plot(df_census)
plot(Parks_N_Recs)
plot(Museuems)
plot(bracks)
```

```{r}
tmap_mode("view")

df_census_Pop = df_census %>%
  select(-moe) %>%
  pivot_wider(names_from = "variable",
              values_from = "estimate")|>
  mutate(pub_pop = public_transportation / population, v_pop = vehicles / population)


```

```{r}
df_census_adjust = df_census |> st_transform(4326)
Parks_N_Recs = st_as_sf(Parks_N_Recs,crs = st_crs(df_census_adjust))
bracks = st_as_sf(bracks,crs=st_crs(df_census_adjust))
Museuems = st_as_sf(Museuems,crs=st_crs(df_census_adjust))

tm_shape(df_census_Pop) + tm_polygons(c("pub_pop","v_pop"),alpha = .5) + tm_shape(Parks_N_Recs)+
tm_symbols(col = "green", size=0.08,alpha = 0.5) + tm_shape(Museuems)+ tm_symbols(col = "violet",
  size=0.08,alpha = 0.5) + tm_shape(bracks)+ tm_dots(col = "red", size=0.004,alpha = 0.5)
```


```{r}

```



#Data Refernced

Museums: https://opendata.dc.gov/datasets/2e65fc16edc3481989d2cc17e6f8c533_54/explore?location=38.908237%2C-77.029335%2C13.31


Parks and recreations:
https://opendata.dc.gov/datasets/DCGIS::parks-and-recreation-areas/explore?location=38.898985%2C-76.948888%2C12.49

